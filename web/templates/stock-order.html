<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="robots" content="all,follow">

    <title>Bootstrap Admin Template </title>
    <link rel="shortcut icon" href="/static/img/favicon.ico">

    <!-- global stylesheets -->
    <link href="https://fonts.googleapis.com/css?family=Roboto+Condensed" rel="stylesheet">
    <link rel="stylesheet" href="/static/css/bootstrap.min.css">
    <link rel="stylesheet" href="/static/font-awesome-4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="/static/css/font-icon-style.css">
    <link rel="stylesheet" href="/static/css/style.default.css" id="theme-stylesheet">

    <!-- Core stylesheets -->
    <link rel="stylesheet" href="/static/css/style.css">
    <link rel="stylesheet" href="/static/css/form.css">
    <link href="/static/css/main.css" rel="stylesheet" type="text/css" />
    <style>
        table thead{
             width: 100%
        }
  
    </style>

</head>

<body>

<!--====================================================
                     头部栏
======================================================-->
<header class="header">
    <!--引入侧边栏;传入参数-->
    <div th:replace="topbar::#topbar"></div>
</header>

<!--====================================================
                    页面
======================================================-->
<div class="page-content d-flex align-items-stretch">

    <!--***** 左侧导航栏 *****-->
    <!-- 用户栏 -->
    <!--引入侧边栏;传入参数-->
    <div th:replace="sidebar::#sidebar"></div>

        <div class="content-inner chart-cont">

            <!--***** FORM LAYOUTS *****-->
            <div class="row">
                <div class="col-md-12">

                    <!--***** USER INFO *****-->
                    <div class="card form" id="form1">
                        <div class="card-header">
                            <h3><i class="fa fa-archive"></i>代发订单</h3>
                        </div>
                        <br>

                        <div class="row">
                            <div class="col-md-4">
                                <div class="form-group">
                                    <label for="order-id">订单号</label>
                                    <input type="text" class="form-control" id="order-id" aria-describedby="emailHelp"
                                        placeholder="请输入订单号" style="min-width: 180px">
                                </div>
                            </div>
                            <div><a class="search-btn" id="searchBtn">搜索</a> </div>

                        </div>

                        <div class="row mt-3">
                            <div class="col-md-12">
                                <h4 style="border-bottom: 1px solid #ddd;">订单信息</h4>
                            </div>
                        </div>

                        <!-- overflow-y:Scroll;overflow-x:hidden; -->
                        <div class="row mt-2 pre-scrollable" style="min-height: 500px;">
                            <table class="table table-light table-responsive" style="min-height: 100px;">
                                <thead>
                                    <tr>
                                        <th>订单号</th>
                                        <th>目的地址</th>
                                        <th>详细地址</th>
                                        <th>货物类别</th>
                                        <th>重量</th>
                                        <th>体积</th>
                                        <th>下单时间</th>
                                    </tr>
                                </thead>
                                <tbody id="orderList">

                                    <tr th:if="${orderList!=null}" th:each="order:${orderList}">
                                        <td th:text="${order.orderId}">201810235546887</td>
                                        <td th:text="${order.receiverArea}">河南省/郑州市/金水区</td>
                                        <td th:text="${order.receiverStreet}">文化路93号郑州大学北校区</td>
                                        <td th:text="${order.orderCategory.name}">衣服</td>
                                        <td th:text="${order.weight}">1Kg</td>
                                        <td th:text="${order.volume}">3</td>
                                        <td th:text="${order.createDate}">2018-11-29 18:32</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                        <div class="row" style="position: absolute;bottom: 0px">
                            <nav aria-label="Page navigation example">
                                <ul class="pagination">
                                    <li class="page-item" th:class="${prePage==0?'page-item disabled':'page-item'}">
                                        <a class="page-link"
                                           th:href="'/order/stockOrder/page/'+${prePage}" href="#" aria-label="Previous">
                                            <span aria-hidden="true">&laquo;</span>
                                            <span class="sr-only">上一页</span>
                                        </a>
                                    </li>
                                    <li class="page-item" th:if="${curPage>2}"><a class="page-link" href="#" th:href="'/order/stockOrder/page/'+(${curPage}-2)">[[${curPage-2}]]</a></li>
                                    <li class="page-item" th:if="${curPage>1}"><a class="page-link" href="#" th:href="'/order/stockOrder/page/'+(${curPage}-1)">[[${curPage-1}]]</a></li>
                                    <li class="page-item disabled"><a class="page-link" href="#">[[${curPage}]]</a></li>
                                    <li class="page-item" th:if="${curPage<lastPage}"><a class="page-link" href="#" th:href="'/order/stockOrder/page/'+(${curPage}+1)">[[${curPage+1}]]</a></li>
                                    <li class="page-item" th:if="${curPage+1<lastPage}"><a class="page-link" href="#" th:href="'/order/stockOrder/page/'+(${curPage}+2)">[[${curPage+2}]]</a></li>
                                    <li class="page-item" th:class="${nextPage==0?'page-item disabled':'page-item'}">
                                        <a class="page-link"
                                           th:href="'/order/stockOrder/page/'+${nextPage}" href="#" aria-label="Next">
                                            <span aria-hidden="true">&raquo;</span>
                                            <span class="sr-only">下一页</span>
                                        </a>
                                    </li>
                                </ul>
                            </nav>
                        </div>



                    </div>


                </div>

            </div>
        </div>

    </div>


    <!--Global Javascript -->
<script src="/static/js/jquery.min.js"></script>
<script src="/static/js/popper/popper.min.js"></script>
<script src="/static/js/tether.min.js"></script>
<script src="/static/js/bootstrap.min.js"></script>
<script src="/static/js/jquery.cookie.js"></script>
<script src="/static/js/jquery.validate.min.js"></script>
<script src="/static/js/chart.min.js"></script>
<script src="/static/js/front.js"></script>
<script src="/static/js/city-picker.data.js"></script>
<script src="/static/js/city-picker.js"></script>
<script src="/static/js/main.js"></script>

    <!--Core Javascript -->
<script src="/static/js/mychart.js"></script>
</body>
<script>
    //点击搜索按钮时触发的事件
    $("#searchBtn").click(function () {
        //发送一个异步请求
        $.ajax({
            url:"/order/stockOrderSelect",
            type:"post",
            data:$("#order-id").val(),
            contentType: "application/json;charset=UTF-8",
            success:function (map) {
                if(map.status==1){
                    //清空搜索前的数据
                    $("#orderList").html("");
                    //在orderList中添加搜索返回的数据
                    $("#orderList").append("<tr>\n"+
                        "<td>"+map.order.orderId+"</td>\n"+
                        "<td>"+map.order.receiverArea+"</td>\n"+
                        "<td>"+map.order.receiverStreet+"</td>\n"+
                        "<td>"+map.order.orderCategory.name+"</td>\n"+
                        "<td>"+map.order.weight+"</td>\n"+
                        "<td>"+map.order.volume+"</td>\n"+
                        "<td>"+map.order.createDate+"</td>\n"
                        )
                }else {
                    alert(map.msg)
                }
            },
            error:function (map) {
            }
        })
    })
</script>

</html>